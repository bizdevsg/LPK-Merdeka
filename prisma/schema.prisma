generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model attendance_records {
  id                    BigInt              @id @default(autoincrement()) @db.UnsignedBigInt
  user_id               BigInt              @db.UnsignedBigInt
  attendance_session_id BigInt              @db.UnsignedBigInt
  check_in_time         DateTime            @db.Timestamp(0)
  created_at            DateTime?           @db.Timestamp(0)
  updated_at            DateTime?           @db.Timestamp(0)
  attendance_sessions   attendance_sessions @relation(fields: [attendance_session_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "attendance_records_attendance_session_id_foreign")
  users                 users               @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "attendance_records_user_id_foreign")

  @@index([attendance_session_id], map: "attendance_records_attendance_session_id_foreign")
  @@index([user_id], map: "attendance_records_user_id_foreign")
}

model attendance_sessions {
  id                 BigInt               @id @default(autoincrement()) @db.UnsignedBigInt
  title              String               @db.VarChar(255)
  date               DateTime             @db.Date
  start_time         DateTime             @db.Time(0)
  end_time           DateTime             @db.Time(0)
  is_active          Boolean              @default(true)
  created_at         DateTime?            @db.Timestamp(0)
  updated_at         DateTime?            @db.Timestamp(0)
  attendance_records attendance_records[]
}















model sessions {
  id            String  @id @db.VarChar(255)
  user_id       BigInt? @db.UnsignedBigInt
  ip_address    String? @db.VarChar(45)
  user_agent    String? @db.Text
  payload       String  @db.LongText
  last_activity Int

  @@index([last_activity], map: "sessions_last_activity_index")
  @@index([user_id], map: "sessions_user_id_index")
}

model users {
  id                 BigInt               @id @default(autoincrement()) @db.UnsignedBigInt
  name               String               @db.VarChar(255)
  email              String               @unique(map: "users_email_unique") @db.VarChar(255)
  email_verified_at  DateTime?            @db.Timestamp(0)
  role               String               @default("user") @db.VarChar(255)
  password           String               @db.VarChar(255)
  remember_token     String?              @db.VarChar(100)
  created_at         DateTime?            @db.Timestamp(0)
  updated_at         DateTime?            @db.Timestamp(0)
  attendance_records attendance_records[]
}





model cms_gallery {
  id        BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  title     String?  @db.VarChar(255)
  image_url String   @db.VarChar(255)
  type      String   @default("image") @db.VarChar(20)
  category  String?  @db.VarChar(50)
  created_at DateTime? @db.Timestamp(0) @default(now())
  updated_at DateTime? @db.Timestamp(0) @updatedAt
}

model cms_faq {
  id        BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  question  String   @db.Text
  answer    String   @db.Text
  category  String?  @db.VarChar(50)
  order     Int      @default(0)
  created_at DateTime? @db.Timestamp(0) @default(now())
  updated_at DateTime? @db.Timestamp(0) @updatedAt
}

model cms_settings {
  key        String   @id @db.VarChar(50)
  value      String   @db.Text
  created_at DateTime? @db.Timestamp(0) @default(now())
  updated_at DateTime? @db.Timestamp(0) @updatedAt
}

model cms_testimonials {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  name       String    @db.VarChar(100)
  role       String    @db.VarChar(100)
  content    String    @db.Text
  avatar_url String?   @db.VarChar(255)
  rating     Int       @default(5)
  created_at DateTime? @db.Timestamp(0) @default(now())
  updated_at DateTime? @db.Timestamp(0) @updatedAt
}

model cms_articles {
  id            BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  title         String    @db.VarChar(255)
  slug          String    @unique @db.VarChar(255)
  content       String    @db.LongText
  excerpt       String?   @db.Text
  thumbnail_url String?   @db.VarChar(255)
  author        String?   @db.VarChar(100)
  is_published  Boolean   @default(false)
  published_at  DateTime? @db.Timestamp(0)
  created_at    DateTime? @db.Timestamp(0) @default(now())
  updated_at    DateTime? @db.Timestamp(0) @updatedAt
}

